<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Anti-fraud Dashboard</title>

  <script src="https://cdn.jsdelivr.net/npm/echarts@5/dist/echarts.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/echarts-gl@2/dist/echarts-gl.min.js"></script>

  <link rel="stylesheet" href="/static/dashboard.css">
</head>
<body>
<div class="layout">
  <div class="card" style="grid-column: span 12; display:flex; gap:12px; align-items:center;">
    <span style="font-size: 13px; color:#9ca3af;">Период:</span>
    <input id="from-date" type="date" style="background:#020617;border:1px solid #1f2937;border-radius:8px;padding:4px 8px;color:#e5e7eb;">
    <span>—</span>
    <input id="to-date" type="date" style="background:#020617;border:1px solid #1f2937;border-radius:8px;padding:4px 8px;color:#e5e7eb;">
    <button id="apply-range" style="margin-left:8px;padding:4px 12px;border-radius:8px;border:none;background:#2563eb;color:white;cursor:pointer;">
      Применить
    </button>
  </div>

  <div class="card kpi">
    <div class="kpi-title">Всего транзакций</div>
    <div id="kpi-total" class="kpi-value">—</div>
  </div>
  <div class="card kpi">
    <div class="kpi-title">Флагнуто</div>
    <div id="kpi-flagged" class="kpi-value">—</div>
  </div>
  <div class="card kpi">
    <div class="kpi-title">Доля фрода</div>
    <div id="kpi-rate" class="kpi-value">—</div>
  </div>
  <div class="card kpi">
    <div class="kpi-title">Средний скор</div>
    <div id="kpi-avg" class="kpi-value">—</div>
  </div>

  <div id="chart-fraud-3d-cluster" class="card" style="grid-column: span 6; height: 520px;"></div>
  <div id="chart-fraud-3d" class="card" style="grid-column: span 6; height: 520px;"></div>
  <div id="chart-timeseries" class="card"></div>
  <div id="chart-score-hist" class="card"></div>
  <div id="chart-by-channel" class="card"></div>

  <div class="card" style="grid-column: span 12; padding: 12px 12px 12px 12px;">
    <div style="font-size: 14px; margin-bottom: 8px;">Фродовая транзакция и её связи</div>
    <div class="txn-panel">
      <div class="txn-list">
        <div class="txn-list-header">
          <span>Фродовые транзакции (выбор)</span>
          <button id="refresh-fraud-list" style="padding:4px 10px;border-radius:8px;border:1px solid #1f2937;background:#0b1220;color:#e5e7eb;cursor:pointer;">Обновить</button>
        </div>
        <div id="fraud-txn-items" class="txn-items"></div>
      </div>
      <div id="chart-txn-links" style="width:100%; height:100%;"></div>
    </div>
  </div>

  <div id="chart-links" class="card" style="grid-column: span 12; height: 520px;"></div>

  <div id="table-top" class="card">
    <div style="font-size: 14px; margin-bottom: 8px;">Топ подозрительных транзакций</div>
    <div class="top-table-scroll">
      <table>
        <thead>
          <tr>
            <th>Дата</th>
            <th>Txn</th>
            <th>Клиент</th>
            <th>Сумма</th>
            <th>Страна</th>
            <th>Канал</th>
            <th>Скор</th>
          </tr>
        </thead>
        <tbody id="top-body"></tbody>
      </table>
    </div>
  </div>
</div>

<script src="/static/dashboard.js"></script>
</body>
</html>